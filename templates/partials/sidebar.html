<nav class="sidebar">
    <div class="sidebar-header">
        <div class="logo-small">
            <svg width="36" height="36" viewBox="0 0 48 48" fill="none">
                <rect x="4" y="4" width="18" height="18" rx="3" fill="currentColor" opacity="0.9"/>
                <rect x="26" y="4" width="18" height="18" rx="3" fill="currentColor" opacity="0.7"/>
                <rect x="4" y="26" width="18" height="18" rx="3" fill="currentColor" opacity="0.5"/>
                <rect x="26" y="26" width="18" height="18" rx="3" fill="currentColor" opacity="0.3"/>
            </svg>
        </div>
        <span class="logo-text">Calculai</span>
    </div>

    <ul class="nav-menu">
        <li class="nav-item {% if request.endpoint == 'dashboard' %}active{% endif %}">
            <a href="{{ url_for('dashboard') }}">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M3 10h4m10 0H7m0 0V6m0 4v4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <span>Dashboard</span>
            </a>
        </li>
        <li class="nav-item {% if request.endpoint == 'novo_calculo' %}active{% endif %}">
            <a href="{{ url_for('novo_calculo') }}">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <rect x="3" y="3" width="14" height="14" rx="2" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M10 7v6M7 10h6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <span>Novo Cálculo</span>
            </a>
        </li>
        <li class="nav-item {% if request.endpoint == 'historico' %}active{% endif %}">
            <a href="{{ url_for('historico') }}">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M10 4v6l3 3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    <circle cx="10" cy="10" r="7" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                <span>Histórico</span>
            </a>
        </li>
        <li class="nav-item {% if request.endpoint == 'custos_fixos' %}active{% endif %}">
            <a href="{{ url_for('custos_fixos') }}">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <circle cx="10" cy="10" r="7" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M10 7v3l2 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M10 2v2M18 10h-2M10 18v-2M2 10h2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <span>Custos Fixos</span>
            </a>
        </li>
        <li class="nav-item {% if request.endpoint == 'configuracoes' %}active{% endif %}">
            <a href="{{ url_for('configuracoes') }}">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <circle cx="10" cy="10" r="2" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M10 2v2m0 12v2M18 10h-2M4 10H2m14.364-5.364l-1.414 1.414m-9.9 9.9L3.636 14.636m12.728 0l-1.414-1.414m-9.9-9.9L3.636 4.636" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <span>Configurações</span>
            </a>
        </li>
    </ul>

    <div class="sidebar-footer">
        <div class="user-info">
            <div class="user-avatar">
                {{ session.user_nome[0]|upper if session.user_nome else 'U' }}
            </div>
            <div class="user-details">
                <div class="user-name">{{ session.user_nome if session.user_nome else 'Usuário' }}</div>
                <div class="user-role">Psicólogo(a) Perito(a)</div>
            </div>
        </div>
        <a href="{{ url_for('logout') }}" class="btn-logout" title="Sair">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M7 17H4a2 2 0 01-2-2V5a2 2 0 012-2h3m7 13l5-5-5-5m5 5H7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </a>
    </div>
</nav>
